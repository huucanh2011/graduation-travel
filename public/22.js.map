{"version":3,"sources":["webpack:///./resources/js/pages/admin/Tour.vue?3c9c","webpack:///resources/js/components/admin/tour/TourTable.vue","webpack:///./resources/js/components/admin/tour/TourTable.vue?737c","webpack:///./resources/js/pages/admin/Tour.vue?edef","webpack:///resources/js/pages/admin/Tour.vue","webpack:///./resources/js/components/admin/tour/TourTable.vue","webpack:///./resources/js/components/admin/tour/TourTable.vue?2a6c","webpack:///./resources/js/pages/admin/Tour.vue"],"names":["a","_vm","this","_h","$createElement","_c","_self","attrs","slot","style","marginLeft","on","onReset","_v","staticStyle","onSearch","model","value","callback","$$v","keyword","expression","columns","loading","record","id","tours","pagination","onChange","scopedSlots","_u","key","fn","_s","colorActive","_f"],"mappings":"kGAAA,I,mhCCqCA,ICrCqN,EDqCrN,CACE,KADF,WAEI,MAAJ,CACM,WAAN,GACM,QAAN,OAGE,SAAF,KACA,wCADA,CAEI,QAFJ,WA6CM,MA1CN,CACA,CACQ,MAAR,WACQ,UAAR,YACQ,QAAR,GAEA,CACQ,MAAR,SACQ,UAAR,aACQ,QAAR,GAEA,CACQ,MAAR,UACQ,UAAR,WACQ,QAAR,GAEA,CACQ,MAAR,WACQ,UAAR,cACQ,QAAR,GAEA,CACQ,MAAR,gBACQ,UAAR,gBACQ,QAAR,EACQ,YAAR,CAAU,aAAV,kBAEA,CACQ,MAAR,YACQ,UAAR,iBAEA,CACQ,MAAR,UACQ,UAAR,WAEA,CACQ,MAAR,aACQ,UAAR,YACQ,QAAR,EACQ,YAAR,CAAU,aAAV,eAME,QAvDF,WAwDI,KAAJ,SAEE,QAAF,KACA,mCADA,CAEI,cAFJ,WAGM,KAAN,SAEI,SALJ,SAKA,KACM,GAAN,gBACQ,IAAR,GACU,KAAV,wBACU,QAAV,GAEQ,KAAR,SACQ,KAAR,YAGI,QAfJ,WAgBM,KAAN,gBACM,KAAN,cAEI,MAnBJ,WAmBM,IAAN,mEAAM,OAAN,EAAM,EAAAA,EAAA,mBAAN,oFACA,EADA,KACA,cADA,SAEA,gBAFA,gBAEA,EAFA,EAEA,OAFA,EAEA,OACA,8CACA,qBACA,2BACA,8BACA,eAPA,+CASI,SA5BJ,SA4BA,OACM,IAAN,wBACM,EAAN,kBACM,KAAN,aACM,IAAN,GACQ,KAAR,UACQ,OAAR,QACQ,QACR,mBACA,MACA,oBACA,YACA,EACQ,QAAR,cAEM,KAAN,UAEI,YA7CJ,SA6CA,GACM,OAAN,mB,OE7I0M,ECO1M,CACE,WAAF,CAAI,UCDY,YACd,GCRW,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,iBAAiB,UAAW,IAAQ,CAACF,EAAG,MAAM,CAACE,MAAM,CAAC,KAAO,SAASC,KAAK,SAAS,CAACH,EAAG,WAAW,CAACI,MAAM,CAAGC,WAAY,OAASH,MAAM,CAAC,KAAO,QAAQI,GAAG,CAAC,MAAQV,EAAIW,WAAWX,EAAIY,GAAG,KAAKR,EAAG,iBAAiB,CAACS,YAAY,CAAC,cAAc,MAAM,MAAQ,SAASP,MAAM,CAAC,YAAc,eAAeI,GAAG,CAAC,OAASV,EAAIc,UAAUC,MAAM,CAACC,MAAOhB,EAAW,QAAEiB,SAAS,SAAUC,GAAMlB,EAAImB,QAAQD,GAAKE,WAAW,cAAc,GAAGpB,EAAIY,GAAG,KAAKR,EAAG,UAAU,CAACE,MAAM,CAAC,QAAUN,EAAIqB,QAAQ,QAAUrB,EAAIsB,QAAQ,OAAS,SAAUC,GAAU,OAAOA,EAAOC,IAAM,WAAaxB,EAAIyB,MAAM,WAAazB,EAAI0B,YAAYhB,GAAG,CAAC,OAASV,EAAI2B,UAAUC,YAAY5B,EAAI6B,GAAG,CAAC,CAACC,IAAI,gBAAgBC,GAAG,SAASR,GAAQ,MAAO,CAACnB,EAAG,OAAO,CAACJ,EAAIY,GAAGZ,EAAIgC,GAAGT,GAAQ,cAAc,CAACO,IAAI,SAASC,GAAG,SAASR,GAAQ,MAAO,CAACnB,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQN,EAAIiC,YAAYV,KAAU,CAACvB,EAAIY,GAAGZ,EAAIgC,GAAGhC,EAAIkC,GAAG,SAAPlC,CAAiBuB,eAAoB,KACh+B,IDUpB,EACA,KACA,KACA,M,UEPE,EAAY,YACd,GPRW,WAAa,IAAiBrB,EAATD,KAAgBE,eAAuC,OAAvDF,KAA0CI,MAAMD,IAAIF,GAAa,gBAC7E,IOUpB,EACA,KACA,KACA,MAIa,Y","file":"22.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tour-table')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <a-card title=\"Danh sách tour\" :bordered=\"false\">\r\n    <div slot=\"extra\">\r\n      <a-button\r\n        icon=\"sync\"\r\n        :style=\"{ marginLeft: '8px' }\"\r\n        @click=\"onReset\"\r\n      ></a-button>\r\n      <a-input-search\r\n        placeholder=\"Tìm kiếm...\"\r\n        v-model=\"keyword\"\r\n        @search=\"onSearch\"\r\n        style=\"margin-left: 8px; width: 250px;\"\r\n      />\r\n    </div>\r\n\r\n    <a-table\r\n      :columns=\"columns\"\r\n      :loading=\"loading\"\r\n      :rowKey=\"record => record.id\"\r\n      :dataSource=\"tours\"\r\n      :pagination=\"pagination\"\r\n      @change=\"onChange\"\r\n    >\r\n      <template slot=\"price_default\" slot-scope=\"record\">\r\n        <span>{{ record }} đồng</span>\r\n      </template>\r\n      <template slot=\"status\" slot-scope=\"record\">\r\n        <a-tag :color=\"colorActive(record)\">{{ record | status }}</a-tag>\r\n      </template>\r\n    </a-table>\r\n  </a-card>\r\n</template>\r\n\r\n<script>\r\n  import { isNotNull, colorActive, cleanAccents } from \"@/helpers/tools\";\r\n  import { mapActions, mapGetters } from \"vuex\";\r\n  export default {\r\n    data() {\r\n      return {\r\n        pagination: {},\r\n        keyword: null\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapGetters(\"tour\", [\"loading\", \"tours\"]),\r\n      columns() {\r\n        const columns = [\r\n          {\r\n            title: \"Tên tour\",\r\n            dataIndex: \"tour_name\",\r\n            sorter: true\r\n          },\r\n          {\r\n            title: \"Nơi đi\",\r\n            dataIndex: \"from_place\",\r\n            sorter: true\r\n          },\r\n          {\r\n            title: \"Nơi đến\",\r\n            dataIndex: \"to_place\",\r\n            sorter: true\r\n          },\r\n          {\r\n            title: \"Số người\",\r\n            dataIndex: \"number_days\",\r\n            sorter: true\r\n          },\r\n          {\r\n            title: \"Giá (default)\",\r\n            dataIndex: \"price_default\",\r\n            sorter: true,\r\n            scopedSlots: { customRender: \"price_default\" }\r\n          },\r\n          {\r\n            title: \"Loại tour\",\r\n            dataIndex: \"tour_category\"\r\n          },\r\n          {\r\n            title: \"Công ty\",\r\n            dataIndex: \"company\"\r\n          },\r\n          {\r\n            title: \"Trạng thái\",\r\n            dataIndex: \"is_active\",\r\n            sorter: true,\r\n            scopedSlots: { customRender: \"status\" }\r\n          }\r\n        ];\r\n        return columns;\r\n      }\r\n    },\r\n    created() {\r\n      this.fetch();\r\n    },\r\n    methods: {\r\n      ...mapActions(\"tour\", [\"fetchTours\"]),\r\n      retrieveTours() {\r\n        this.fetch();\r\n      },\r\n      onSearch(value, event) {\r\n        if (isNotNull(value)) {\r\n          let params = {\r\n            page: this.pagination.current,\r\n            keyword: value\r\n          };\r\n          this.fetch(params);\r\n          this.keyword = value;\r\n        }\r\n      },\r\n      onReset() {\r\n        this.retrieveTours();\r\n        this.keyword = null;\r\n      },\r\n      async fetch(params = {}) {\r\n        const pagination = { ...this.pagination };\r\n        const { data, config } = await this.fetchTours(params);\r\n        window.history.replaceState(\"tours\", \"\", config.url);\r\n        pagination.total = data.meta.total;\r\n        pagination.pageSize = data.meta.per_page;\r\n        pagination.current = data.meta.current_page;\r\n        this.pagination = pagination;\r\n      },\r\n      onChange(pagination, filters, sorter) {\r\n        const pager = { ...this.pagination };\r\n        pager.current = pagination.current;\r\n        this.pagination = pager;\r\n        let params = {\r\n          page: pagination.current,\r\n          sortBy: sorter.field,\r\n          orderBy:\r\n            sorter.order === \"ascend\"\r\n              ? \"asc\"\r\n              : sorter.order === \"descend\"\r\n              ? \"desc\"\r\n              : undefined,\r\n          keyword: this.keyword\r\n        };\r\n        this.fetch(params);\r\n      },\r\n      colorActive(v) {\r\n        return colorActive(v);\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TourTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TourTable.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tour.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tour.vue?vue&type=script&lang=js&\"","<template>\r\n  <tour-table></tour-table>\r\n</template>\r\n\r\n<script>\r\n  import TourTable from \"@/components/admin/tour/TourTable\";\r\n\r\n  export default {\r\n    components: { TourTable }\r\n  };\r\n</script>\r\n\r\n<style></style>\r\n","import { render, staticRenderFns } from \"./TourTable.vue?vue&type=template&id=0893bee8&\"\nimport script from \"./TourTable.vue?vue&type=script&lang=js&\"\nexport * from \"./TourTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-card',{attrs:{\"title\":\"Danh sách tour\",\"bordered\":false}},[_c('div',{attrs:{\"slot\":\"extra\"},slot:\"extra\"},[_c('a-button',{style:({ marginLeft: '8px' }),attrs:{\"icon\":\"sync\"},on:{\"click\":_vm.onReset}}),_vm._v(\" \"),_c('a-input-search',{staticStyle:{\"margin-left\":\"8px\",\"width\":\"250px\"},attrs:{\"placeholder\":\"Tìm kiếm...\"},on:{\"search\":_vm.onSearch},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1),_vm._v(\" \"),_c('a-table',{attrs:{\"columns\":_vm.columns,\"loading\":_vm.loading,\"rowKey\":function (record) { return record.id; },\"dataSource\":_vm.tours,\"pagination\":_vm.pagination},on:{\"change\":_vm.onChange},scopedSlots:_vm._u([{key:\"price_default\",fn:function(record){return [_c('span',[_vm._v(_vm._s(record)+\" đồng\")])]}},{key:\"status\",fn:function(record){return [_c('a-tag',{attrs:{\"color\":_vm.colorActive(record)}},[_vm._v(_vm._s(_vm._f(\"status\")(record)))])]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Tour.vue?vue&type=template&id=2e936a57&\"\nimport script from \"./Tour.vue?vue&type=script&lang=js&\"\nexport * from \"./Tour.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
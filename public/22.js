(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{321:function(t,e,r){"use strict";r.r(e);var n=r(5),o=r.n(n),a=r(11),i=r(10);function c(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){c(a,n,o,i,u,"next",t)}function u(t){c(a,n,o,i,u,"throw",t)}i(void 0)}))}}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f={data:function(){return{pagination:{},keyword:null}},computed:l({},Object(i.c)("tour",["loading","tours"]),{columns:function(){return[{title:"Tên tour",dataIndex:"tour_name",sorter:!0},{title:"Nơi đi",dataIndex:"from_place",sorter:!0},{title:"Nơi đến",dataIndex:"to_place",sorter:!0},{title:"Số người",dataIndex:"number_days",sorter:!0},{title:"Giá (default)",dataIndex:"price_default",sorter:!0,scopedSlots:{customRender:"price_default"}},{title:"Loại tour",dataIndex:"tour_category"},{title:"Công ty",dataIndex:"company"},{title:"Trạng thái",dataIndex:"is_active",sorter:!0,scopedSlots:{customRender:"status"}}]}}),created:function(){this.fetch()},methods:l({},Object(i.b)("tour",["fetchTours"]),{retrieveTours:function(){this.fetch()},onSearch:function(t,e){if(Object(a.b)(t)){var r={page:this.pagination.current,keyword:t};this.fetch(r),this.keyword=t}},onReset:function(){this.retrieveTours(),this.keyword=null},fetch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(o.a.mark((function r(){var n,a,i,c;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=l({},t.pagination),r.next=3,t.fetchTours(e);case 3:a=r.sent,i=a.data,c=a.config,window.history.replaceState("tours","",c.url),n.total=i.meta.total,n.pageSize=i.meta.per_page,n.current=i.meta.current_page,t.pagination=n;case 11:case"end":return r.stop()}}),r)})))()},onChange:function(t,e,r){var n=l({},this.pagination);n.current=t.current,this.pagination=n;var o={page:t.current,sortBy:r.field,orderBy:"ascend"===r.order?"asc":"descend"===r.order?"desc":void 0,keyword:this.keyword};this.fetch(o)},colorActive:function(t){return Object(a.a)(t)}})},p=r(4),h={components:{TourTable:Object(p.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-card",{attrs:{title:"Danh sách tour",bordered:!1}},[r("div",{attrs:{slot:"extra"},slot:"extra"},[r("a-button",{style:{marginLeft:"8px"},attrs:{icon:"sync"},on:{click:t.onReset}}),t._v(" "),r("a-input-search",{staticStyle:{"margin-left":"8px",width:"250px"},attrs:{placeholder:"Tìm kiếm..."},on:{search:t.onSearch},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),t._v(" "),r("a-table",{attrs:{columns:t.columns,loading:t.loading,rowKey:function(t){return t.id},dataSource:t.tours,pagination:t.pagination},on:{change:t.onChange},scopedSlots:t._u([{key:"price_default",fn:function(e){return[r("span",[t._v(t._s(e)+" đồng")])]}},{key:"status",fn:function(e){return[r("a-tag",{attrs:{color:t.colorActive(e)}},[t._v(t._s(t._f("status")(e)))])]}}])})],1)}),[],!1,null,null,null).exports}},g=Object(p.a)(h,(function(){var t=this.$createElement;return(this._self._c||t)("tour-table")}),[],!1,null,null,null);e.default=g.exports}}]);
//# sourceMappingURL=22.js.map